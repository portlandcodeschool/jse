<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
      
        Express Notes &middot; PCS
      
    </title>

    <script type="text/javascript" src="../scripts/jquery-2.1.0.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="../css/master.css">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  </head>

  <body class="pure-g">
    <header class="pure-u-1">
      <nav class="pure-menu pure-menu-open pure-menu-horizontal">
        <ul>
          <li>
            <a href="/">JavaScript Evening</a>
          </li>
          <li>
            <a id="" href="/">About</a>
          </li>
          

          
          
            
              
            
          
            
              
                <li>
                  <a id="" href="/syllabus/">Syllabus</a>
                </li>
              
            
          
            
              
            
          
            
              
                <li>
                  <a id="" href="/curriculum/">Curriculum</a>
                </li>
              
            
          
            
          
            
              
                <li>
                  <a id="" href="/resources/">Resources</a>
                </li>
              
            
          
          <li>
            <a href="http://portlandcodeschool.com/" class="nav-item">PCS Home</a>
          </li>
        </ul>
      </nav>      
    </header>

    <section class="pure-u-1">
      <div class="post">
  <h1 class="post-title">Express Notes</h1>
  <span class="post-date">17 Jun 2014</span>
  <span class="post-slides">

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

</span>

  <h2>Class Flow</h2>

<p>Walk through a little bit of Express. If we&#39;re ahead of schedule or the group
feels like they&#39;re energized for the afternoon, then do this somewhat quickly.
Don&#39;t have them follow along, and they can then spend a bit of time later
re-creating an Express app. Additional examples for them to build are below.</p>

<p>If we&#39;re behind schedule, do this as a group a bit more slowly. Possibly skip
the isolation of testable components and make sure they have a decent API app
built up for the persistence day tomorrow.</p>

<h2>Isolating Testable Components</h2>

<p>The testing example will bring up <code>sinon</code> and spies and stubs. It also uses
promises and the <code>request</code> module. Promises will be completely new at this
point. Expect confusion.</p>

<p>The discussion should lead us to realizing that there&#39;s not much to gain when
testing an Express app by splitting up the routing and the handlers.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">app.param(function(name, fn){
  if (fn instanceof RegExp) {
    return function(req, res, next, val) {
      var captures;
      if (captures = fn.exec(String(val))) {
        req.params[name] = captures[1] || captures[0];
        next();
      } else {
        res.send(404);
      }
    }
  }
});

app.param(&#39;id&#39;, /^\d+$/);

// or

app.route(/^\/api\/people\/(\d+)$/)</code></pre></div>

<h2>New Library or Concept Discovery</h2>

<p>Ask the students what to do when they&#39;re working in code and confused about
something they&#39;ve never seen before. The way to handle this is to research it
decently. They don&#39;t need to understand it 100%, but they should have a decent
idea of how it works. In the case of promises, a simple example of seeing
<code>then</code> calls chained together on someone&#39;s blog should suffice.</p>

<p>The idea should be to ensure that they understand that they&#39;re using it
properly, but not to let it slow them down.</p>

<p>Have them explain to each other or to the group what they learn. What are they
still unsure about?</p>

<h2>Extra</h2>

<p>They should work on building up their own API using Express. They could, for
instance build an API for a blogging engine (just creating articles). They
could build a photo album, schedule, recipe list, todo list, etc.</p>


</div>



    </section>

    <footer class="pure-u-1">
      &copy; 2014. All rights reserved.
      <span>v0.0.1</span>
    </footer>
  </body>
</html>
